@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ojas Wellness Design System - Enhanced with New Accessible Color Palette */

@layer base {
  :root {
    --background: 245 248 250; /* ojas-mist-white */
    --foreground: 34 41 47; /* ojas-charcoal-gray */

    --card: 255 255 255;
    --card-foreground: 34 41 47;

    --popover: 255 255 255;
    --popover-foreground: 34 41 47;

    --primary: 0 119 182; /* ojas-primary-blue */
    --primary-foreground: 255 255 255;

    --secondary: 225 228 234; /* ojas-cloud-silver */
    --secondary-foreground: 34 41 47;

    --muted: 225 228 234;
    --muted-foreground: 108 118 131; /* ojas-slate-gray */

    --accent: 225 228 234;
    --accent-foreground: 34 41 47;

    --destructive: 255 78 78; /* ojas-vibrant-coral */
    --destructive-foreground: 255 255 255;

    --border: 225 228 234; /* ojas-cloud-silver */
    --input: 225 228 234;
    --ring: 0 119 182; /* ojas-primary-blue */

    --radius: 16px; /* Larger radius for softer, friendlier feel */
  }

  /* Fixed Dark Mode Implementation */
  .dark {
    --background: 24 35 58; /* ojas-soft-midnight */
    --foreground: 245 248 250;

    --card: 34 41 47;
    --card-foreground: 245 248 250;

    --popover: 34 41 47;
    --popover-foreground: 245 248 250;

    --primary: 0 119 182;
    --primary-foreground: 255 255 255;

    --secondary: 108 118 131;
    --secondary-foreground: 245 248 250;

    --muted: 108 118 131;
    --muted-foreground: 225 228 234;

    --accent: 108 118 131;
    --accent-foreground: 245 248 250;

    --destructive: 255 78 78;
    --destructive-foreground: 245 248 250;

    --border: 108 118 131;
    --input: 108 118 131;
    --ring: 0 119 182;
  }

  /* Apply dark mode styles properly */
  .dark body {
    background-color: rgb(24 35 58);
    color: rgb(245 248 250);
  }

  .dark .bg-white {
    background-color: rgb(34 41 47) !important;
    color: rgb(245 248 250) !important;
  }

  .dark .text-ojas-charcoal-gray {
    color: rgb(245 248 250) !important;
  }

  .dark .text-ojas-slate-gray {
    color: rgb(225 228 234) !important;
  }

  .dark .border-ojas-cloud-silver {
    border-color: rgb(108 118 131) !important;
  }

  /* High Contrast Mode - Enhanced */
  .high-contrast {
    --background: 0 0 0;
    --foreground: 255 255 255;
    --card: 0 0 0;
    --card-foreground: 255 255 255;
    --border: 255 255 255;
    --primary: 255 255 255;
    --primary-foreground: 0 0 0;
  }

  .high-contrast * {
    background-color: black !important;
    color: white !important;
    border-color: white !important;
  }

  .high-contrast button {
    background-color: white !important;
    color: black !important;
    border: 3px solid white !important;
    font-weight: bold !important;
  }

  .high-contrast .bg-ojas-primary,
  .high-contrast .bg-ojas-primary-blue {
    background-color: white !important;
    color: black !important;
  }

  /* Large Fonts Mode - Enhanced */
  .large-fonts {
    font-size: 1.25rem !important;
  }

  .large-fonts h1 {
    font-size: 2.5rem !important;
  }

  .large-fonts h2 {
    font-size: 2rem !important;
  }

  .large-fonts h3 {
    font-size: 1.75rem !important;
  }

  .large-fonts button {
    font-size: 1.25rem !important;
    padding: 1rem 1.5rem !important;
    min-height: 56px !important;
  }

  .large-fonts .text-sm {
    font-size: 1rem !important;
  }

  .large-fonts .text-base {
    font-size: 1.25rem !important;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-ojas-mist-white text-ojas-charcoal-gray font-ojas;
    font-size: 18px; /* Larger base font for accessibility */
    line-height: 1.7;
  }

  /* Enhanced focus indicators for accessibility */
  *:focus-visible {
    @apply outline-none ring-4 ring-ojas-primary/40 ring-offset-2 ring-offset-background;
  }

  /* Ensure all interactive elements meet minimum tap target size */
  button, .tap-target {
    min-height: 48px;
    min-width: 48px;
  }

  /* Enhanced button accessibility */
  button:focus-visible {
    @apply ring-4 ring-ojas-primary/60 ring-offset-2;
  }

  /* High contrast button outlines */
  button {
    border: 2px solid transparent;
  }

  button:hover {
    border-color: currentColor;
  }
}

@layer components {
  /* Enhanced card styling with new color palette */
  .ojas-card {
    @apply bg-white rounded-2xl shadow-ojas-soft border-2 border-ojas-cloud-silver p-6 transition-all duration-300 hover:shadow-ojas-medium;
  }

  .ojas-card.priority-high {
    @apply scale-105 shadow-ojas-medium border-ojas-primary/20;
    animation: pulse-glow 3s ease-in-out infinite;
  }

  /* Enhanced primary action buttons with new colors */
  .ojas-button {
    @apply px-8 py-4 rounded-2xl font-bold text-xl transition-all duration-200 min-h-[56px] flex items-center justify-center gap-3 shadow-ojas-soft border-2 border-transparent;
  }

  .ojas-button-primary {
    @apply ojas-button bg-ojas-primary text-white hover:bg-ojas-primary-hover active:scale-95 shadow-ojas-medium font-bold border-ojas-primary;
  }

  .ojas-button-success {
    @apply ojas-button bg-ojas-success text-white hover:bg-ojas-success-hover active:scale-95 shadow-ojas-medium font-bold border-ojas-success;
  }

  .ojas-button-secondary {
    @apply ojas-button bg-white text-ojas-charcoal-gray hover:bg-gray-50 active:scale-95 border-2 border-ojas-cloud-silver font-bold;
  }

  .ojas-button-alert {
    @apply ojas-button bg-ojas-alert text-ojas-text-main hover:bg-ojas-alert-hover active:scale-95 shadow-ojas-medium font-bold border-ojas-alert;
  }

  .ojas-button-error {
    @apply ojas-button bg-ojas-error text-white hover:bg-ojas-error-hover active:scale-95 shadow-ojas-medium font-bold border-ojas-error;
  }

  /* Fixed Floating Action Button with High Contrast */
  .ojas-fab {
    @apply w-16 h-16 bg-ojas-primary text-white rounded-full shadow-ojas-strong flex items-center justify-center transition-all duration-200 hover:bg-ojas-primary-hover hover:scale-110 active:scale-95 border-4 border-white;
    position: fixed;
    z-index: 40;
    filter: drop-shadow(0 4px 12px rgba(0, 119, 182, 0.4));
  }

  .ojas-fab:hover {
    filter: drop-shadow(0 6px 16px rgba(0, 119, 182, 0.6));
  }

  .dark .ojas-fab {
    @apply border-ojas-charcoal-gray;
    filter: drop-shadow(0 4px 12px rgba(0, 119, 182, 0.6));
  }

  /* Large, accessible medication action buttons */
  .medication-action-button {
    @apply flex-1 min-h-[60px] rounded-2xl font-bold text-xl transition-all duration-200 flex items-center justify-center gap-3 active:scale-95 border-2;
  }

  .medication-taken-button {
    @apply medication-action-button bg-ojas-primary text-white hover:bg-ojas-primary-hover shadow-ojas-medium border-ojas-primary;
  }

  .medication-missed-button {
    @apply medication-action-button bg-ojas-alert text-ojas-text-main hover:bg-ojas-alert-hover shadow-ojas-medium border-ojas-alert;
  }

  /* Navigation styling */
  .ojas-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-ojas-border shadow-ojas-strong z-30;
  }

  .ojas-nav-item {
    @apply flex-1 flex flex-col items-center justify-center py-2 px-1 transition-all duration-200;
  }

  .ojas-nav-item.active {
    @apply text-ojas-primary;
  }

  .ojas-nav-item:not(.active) {
    @apply text-ojas-text-secondary hover:text-ojas-text-main;
  }

  /* Enhanced input styling */
  .ojas-input {
    @apply w-full px-4 py-3 rounded-xl border-2 border-ojas-border bg-white text-ojas-text-main placeholder-ojas-text-secondary focus:outline-none focus:ring-4 focus:ring-ojas-primary/30 focus:border-ojas-primary transition-all duration-200;
  }

  /* Enhanced text area styling */
  .ojas-textarea {
    @apply ojas-input min-h-[120px] resize-none;
  }

  /* Enhanced select styling */
  .ojas-select {
    @apply ojas-input appearance-none bg-white;
  }

  /* Enhanced checkbox styling */
  .ojas-checkbox {
    @apply w-5 h-5 rounded border-2 border-ojas-border bg-white checked:bg-ojas-primary checked:border-ojas-primary focus:ring-4 focus:ring-ojas-primary/30 transition-all duration-200;
  }

  /* Enhanced radio button styling */  
  .ojas-radio {
    @apply w-5 h-5 rounded-full border-2 border-ojas-border bg-white checked:bg-ojas-primary checked:border-ojas-primary focus:ring-4 focus:ring-ojas-primary/30 transition-all duration-200;
  }

  /* Enhanced switch styling */
  .ojas-switch {
    @apply relative inline-flex h-6 w-11 items-center rounded-full border-2 border-ojas-border bg-ojas-border transition-colors duration-200 focus:outline-none focus:ring-4 focus:ring-ojas-primary/30;
  }

  .ojas-switch.checked {
    @apply bg-ojas-primary border-ojas-primary;
  }

  .ojas-switch-thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200;
  }

  .ojas-switch.checked .ojas-switch-thumb {
    @apply translate-x-5;
  }
}

/* Enhanced animations */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(0, 119, 182, 0.3);
  }
  50% {
    box-shadow: 0 0 40px rgba(0, 119, 182, 0.6);
  }
}

@keyframes pulse-urgent {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 20px rgba(244, 67, 54, 0.3);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 40px rgba(244, 67, 54, 0.6);
  }
}

@keyframes gentle-fade-in {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes success-check {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Enhanced scrollbar for better UX */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: #F5F8FA;
}

::-webkit-scrollbar-thumb {
  background: #E1E4EA;
  border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
  background: #6C7683;
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: rgb(24 35 58);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgb(108 118 131);
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Haptic feedback simulation for desktop */
@media (hover: hover) {
  .ojas-button:active,
  .medication-action-button:active {
    transform: scale(0.95);
  }
}

/* Range input styling for accessibility */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  height: 8px;
  background: #E1E4EA;
  border-radius: 4px;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  height: 24px;
  width: 24px;
  border-radius: 50%;
  background: #0077B6;
  cursor: pointer;
  border: 2px solid white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

input[type="range"]::-moz-range-thumb {
  height: 24px;
  width: 24px;
  border-radius: 50%;
  background: #0077B6;
  cursor: pointer;
  border: 2px solid white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

input[type="range"]:focus {
  outline: none;
}

input[type="range"]:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 4px rgba(0, 119, 182, 0.3);
}

input[type="range"]:focus::-moz-range-thumb {
  box-shadow: 0 0 0 4px rgba(0, 119, 182, 0.3);
}
